<?xml version="1.0" encoding="UTF-8"?>

<?import java.net.URL?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane prefHeight="700.0" prefWidth="1000.0" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.onebit.fasv.fotocop.FotocopiadoraController">

    <stylesheets>
        <URL value="@styles.css" />
    </stylesheets>

    <top>
        <VBox alignment="CENTER" prefHeight="0.0" prefWidth="891.0" spacing="10" style="-fx-padding: 10;">
            <HBox alignment="CENTER" prefHeight="0.0" prefWidth="850.0" spacing="20">
                <Button fx:id="mesAnteriorButton" onAction="#onMesAnterior" text="&lt; Mes Anterior" />
                <Label fx:id="mesLabel" style="-fx-font-size: 24px; -fx-font-weight: bold;" text="Agosto 2025">
               <font>
                  <Font name="Arial Black" size="7.0" />
               </font></Label>
                <Button fx:id="mesSiguienteButton" onAction="#onMesSiguiente" text="Mes Siguiente &gt;" />

                <Button fx:id="exportarPdfButton" onAction="#onExportarPDF" style="-fx-background-color: #f44336;                 -fx-text-fill: white;" text="Exportar a PDF">
               <font>
                  <Font name="JetBrains Mono Regular" size="12.0" />
               </font></Button>
            </HBox>
        </VBox>
    </top>

    <center>
        <SplitPane dividerPositions="0.6">
            <VBox alignment="CENTER" spacing="5" style="-fx-padding: 0 5 0 0;">
                <Label style="-fx-font-size: 16px; -fx-font-weight: bold;" text="Ventas del Mes" />
                <TableView fx:id="ventasTable" prefHeight="380.0" prefWidth="591.0">
                    <columns>
                        <TableColumn fx:id="colVentaId" prefWidth="70" text="Nº Venta" />
                        <TableColumn fx:id="colVentaFecha" prefWidth="200" text="Fecha y Hora" />
                        <TableColumn fx:id="colVentaTotal" prefWidth="120" text="Total (Bs.)" />
                    </columns>
                    <columnResizePolicy><TableView fx:constant="CONSTRAINED_RESIZE_POLICY" /></columnResizePolicy>
                </TableView>
            </VBox>
            <VBox alignment="CENTER" spacing="5" style="-fx-padding: 0 0 0 5;">
                <Label prefHeight="22.0" prefWidth="78.0" style="-fx-font-size: 16px; -fx-font-weight: bold;" text="Detalles">
                       <font>
                          <Font name="JetBrains Mono Regular" size="16.0" />
                       </font>
                </Label>
                <TableView fx:id="detallesTable">
                    <columns>
                        <TableColumn fx:id="colDetalleDesc" prefWidth="182.40002423524857" text="Descripción" />
                        <TableColumn fx:id="colDetalleCant" prefWidth="79.19989013671875" text="Cant." />
                        <TableColumn fx:id="colDetalleSubtotal" prefWidth="124.0001220703125" text="Subtotal" />
                    </columns>
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                    </columnResizePolicy>
                </TableView>
            </VBox>
        </SplitPane>
    </center>
    <bottom>

        <VBox prefHeight="315.0" prefWidth="1000.0" spacing="10" style="-fx-padding: 10; -fx-border-color: lightgray; -fx-border-width: 1 0 0 0;">
            <Label prefHeight="0.0" prefWidth="270.0" style="-fx-font-size: 16px; -fx-font-weight: bold;" text="Crear Nueva Venta" />
            <HBox spacing="10">
                <VBox prefHeight="236.0" prefWidth="331.0" spacing="5" HBox.hgrow="ALWAYS">
                    <HBox alignment="CENTER_LEFT" prefHeight="63.0" prefWidth="569.0" spacing="10">
                        <Label prefHeight="15.0" prefWidth="66.0" text="Servicio:" />
                        <ComboBox fx:id="detalleCombo" prefHeight="26.0" prefWidth="201.0" />
                        <Label text="Cantidad:" />
                        <TextField fx:id="cantidadField" prefHeight="26.0" prefWidth="32.0" />
                        <Button fx:id="addItemButton" onAction="#onAddItem" text="Añadir" />
                    </HBox>

                    <HBox alignment="CENTER_LEFT" prefHeight="58.0" prefWidth="569.0" spacing="10">
                        <Label prefHeight="15.0" prefWidth="66.0" text="Otro:" />
                        <TextField fx:id="otroField" prefHeight="26.0" prefWidth="203.0" promptText="Otro" />
                        <Label prefHeight="18.0" prefWidth="65.0" text="Precio:" />
                        <TextField fx:id="otroPrecioField" prefHeight="26.0" prefWidth="30.0" />
                        <Button fx:id="addOtroButton" onAction="#onAddOtro" text="Añadir Otro" />
                    </HBox>
                </VBox>
                <VBox alignment="TOP_RIGHT" spacing="10">
                    <TableView fx:id="carritoTable" prefHeight="213.0" prefWidth="400.0"> <columns>
                        <TableColumn fx:id="colCarritoDesc" prefWidth="170" text="Descripción" />
                        <TableColumn fx:id="colCarritoCant" prefWidth="70.39996337890625" text="Cantidad" />
                        <TableColumn fx:id="colCarritoSubtotal" prefWidth="74.40000915527344" text="Subtotal" />
                        <TableColumn fx:id="colCarritoAccion" prefWidth="85.5999755859375" text="Acción" />
                    </columns>
                    </TableView>
                    <HBox alignment="CENTER_RIGHT" spacing="10">
                        <Label fx:id="totalVentaLabel" prefHeight="23.0" prefWidth="212.0" style="-fx-font-size: 18px; -fx-font-weight: bold;" text="TOTAL: 0.00 Bs." />
                        <Button fx:id="finalizarVentaButton" onAction="#onFinalizarVenta" prefHeight="30.0" prefWidth="174.0" style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-size: 14px;" text="Finalizar Venta" />
                    </HBox>
                </VBox>
            </HBox>
        </VBox>
    </bottom>
</BorderPane>
